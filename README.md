# canCorpus

canCorpus is a small Internet Computer dapp that provides a simple customer-service assistant backed by a Motoko canister and a React frontend chat UI.

---

## Key features

- Starter FAQ data included in the backend so the assistant can answer basic questions out-of-the-box.
- Admin model: the first authenticated principal to call `addEntry` becomes the admin. Only that principal may add or clear entries.
- Authentication: the frontend integrates Internet Identity (II) via `@dfinity/auth-client` so an authenticated user can manage data.
- Public users can ask questions without authentication; the frontend will use the anonymous actor for public queries.

---

## Tech stack

- **Backend:** Motoko (canister runtime) with the `mo:llm` helper (via mops) for talking to an on-network LLM.
- **Frontend:** React + Vite (JSX), SCSS for styles.
- **Authentication:** Internet Identity (II) via `@dfinity/auth-client`.
- **Canister bindings:** autogenerated declarations from `dfx generate` (exports in `src/declarations`).
- **Tooling:** `dfx` (DFINITY SDK), `mops` for Motoko dependencies, `npm`/Vite for frontend dev server.
- **Languages:** Motoko for backend, JavaScript / JSX for frontend.

## Models

- Supported on-network models (via the `mo:llm` helper):
	- `#Llama3_1_8B` — Llama 3.1 8B model (used by default in this project)
	- `#Qwen3_32B` — Qwen 3 32B model
	- `#Llama4Scout` — Llama 4 Scout model

- The backend currently sends chat requests using `#Llama3_1_8B` by default. You can switch models by updating the Motoko call site in `src/canCorpus_backend/main.mo`.

## Prerequisites

- DFINITY SDK (`dfx`) installed and on your PATH. See https://internetcomputer.org/docs for installation instructions.
- Node.js (16+) and npm or pnpm for the frontend. Verify with `node -v` and `npm -v`.
- `mops` if you plan to manage Motoko dependencies locally (the project already includes `.mops`).
- For local authentication testing, ensure the local Internet Identity canister is available (dfx handles this when the replica is running).

## Quick start (Windows PowerShell)

### 1) Start the local replica and deploy canisters

```powershell
dfx start --background
dfx deploy
```

### 2) Start frontend

```powershell
cd src/canCorpus_frontend
npm install
npm run start
```

Open the frontend URL shown by Vite (default port 3000).

---

## Admin rule (first-time login)

- The canister stores an `adminPrincipal` (optional).
- On the first call to `addEntry`, if `adminPrincipal` is null the canister sets it to the caller Principal. That caller becomes the admin.
- Only the admin principal may call `addEntry` and `clearEntries`. Other principals will receive an "Unauthorized" error.

---

## Developer notes

- Backend: `src/canCorpus_backend/main.mo` (Motoko)
- Frontend: `src/canCorpus_frontend` (React + Vite)
- Declarations: `src/declarations` (generated by `dfx generate` / `dfx deploy`)

---



